!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wangeditor/editor")):"function"==typeof define&&define.amd?define(["@wangeditor/editor"],t):"object"==typeof exports?exports.WangEditorPluginUploadAttachment=t(require("@wangeditor/editor")):e.WangEditorPluginUploadAttachment=t(e.wangEditor)}(self,(function(e){return(()=>{"use strict";var t={755:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,':root,\n:host {\n  --w-e-audio-selected-border-color: #2b5ea0;\n}\nspan [data-w-e-type="audio"] audio:p:hover {\n  border: red solid 2px ;\n}\n',"",{version:3,sources:["webpack://./src/assets/index.less"],names:[],mappings:"AAEA;;EACE,0CAAA;AAAF;AAIC;EACC,sBAAA;AAFF",sourcesContent:['@import "../var.less";\n\n:root, :host {\n  --w-e-audio-selected-border-color: #2b5ea0; // 选中的元素，如选中了分割线\n}\n\nspan [data-w-e-type="audio"] audio {\n &:p:hover{\n  border: red solid 2px ;\n }\n}\n\n\n\n\n'],sourceRoot:""}]);const u=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if(!a)return i;if("function"==typeof btoa){var u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),c="/*# ".concat(s," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([c]).join("\n")}return[i].join("\n")}},379:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var u=e[o],s=t.base?u[0]+t.base:u[0],c=n[s]||0,l="".concat(s," ").concat(c);n[s]=c+1;var f=a(l),d={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:l,updater:y(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function y(e,t){var n,r,o;if(t.singleton){var i=h++;n=p||(p=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var s=u(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=s}}}},857:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{AUDIO_SVG:()=>Z,UPLOAD_AUDIO_SVG:()=>W,default:()=>fe,genInsertAudioMenuConfig:()=>ie,genUploadAudioMenuConfig:()=>oe});var e=r(857);(0,e.i18nAddResources)("en",{audio:{upload:"Upload Audio",insert:"Insert Audio",edit:"Edit Link",src:"Audio Link",srcPlaceHolder:"Plase Input Audio Link"}}),(0,e.i18nAddResources)("zh-CN",{audio:{upload:"上传音频",insert:"插入音频",edit:"编辑音频",src:"音频链接",srcPlaceHolder:"请输入音频链接"}});function t(t,n){return r=this,o=void 0,a=function(){var r,o,i,a,u,s,c;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(l){switch(l.label){case 0:return n?(t.restoreSelection(),r=function(e){return e.getMenuConfig("insertAudio")}(t),o=r.checkAudio,i=r.formatAudioSrc,a=r.onInsertedAudio,[4,o(n)]):[2];case 1:return"string"==typeof(u=l.sent())?(t.alert(u,"error"),[2]):null==u?[2]:[4,i(n)];case 2:return s=l.sent(),c={type:"audio",src:s,children:[{text:""}]},Promise.resolve().then((function(){e.SlateTransforms.insertNodes(t,c)})),a&&a(c),[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{s(a.next(e))}catch(e){t(e)}}function u(e){try{s(a.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,u)}s((a=a.apply(r,o||[])).next())}));var r,o,i,a}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function u(e){return e.getMenuConfig("uploadAudio")}function s(t){var n=t.selection;return null==n||!e.SlateRange.isCollapsed(n)||!!function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.SlateEditor.nodes(t,{match:function(n){var r=e.DomEditor.getNodeType(n);return"code"===r||"pre"===r||"link"===r||"list-item"===r||!!r.startsWith("header")||"blockquote"===r||!!e.SlateEditor.isVoid(t,n)},universal:!0}),1)[0]}function c(e,n){var r,o;return i(this,void 0,void 0,(function(){var i,s,c,f,d,p;return a(this,(function(a){switch(a.label){case 0:if(null==n)return[2];i=Array.prototype.slice.call(n),s=u(e).customUpload,a.label=1;case 1:a.trys.push([1,9,10,15]),c=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(i),a.label=2;case 2:return[4,c.next()];case 3:return(f=a.sent()).done?[3,8]:(d=f.value,s?[4,s(d,(function(n){return t(e,n)}))]:[3,5]);case 4:return a.sent(),[3,7];case 5:return[4,l(e,d)];case 6:a.sent(),a.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return p=a.sent(),r={error:p},[3,15];case 10:return a.trys.push([10,,13,14]),f&&!f.done&&(o=c.return)?[4,o.call(c)]:[3,12];case 11:a.sent(),a.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return[2]}}))}))}function l(r,o){return i(this,void 0,void 0,(function(){var i,s,c,l;return a(this,(function(a){switch(a.label){case 0:return i=function(r){var o=f.get(r);if(null!=o)return o;var i=u(r),a=i.onSuccess,s=i.onProgress,c=i.onFailed,l=i.customInsert,d=i.onError;return o=(0,e.createUploader)(n(n({},i),{onProgress:function(e){r.showProgressBar(e),s&&s(e)},onSuccess:function(e,n){if(l)l(n,e,(function(e){return t(r,e)}));else{var o=n.errno,i=void 0===o?1:o,u=n.data,s=void 0===u?{}:u;if(0!==i)return console.error("'".concat(e.name,"' upload failed"),n),void c(e,n);var f=s.url;t(r,void 0===f?"":f),a(e,n)}},onError:function(e,t,n){var r=e.name;console.error("'".concat(r," upload error"),t,n),d&&d(e,t,n)}})),f.set(r,o),o}(r),s=o.name,c=o.type,l=o.size,i.addFile({name:s,type:c,size:l,data:o}),[4,i.upload()];case 1:return a.sent(),[2]}}))}))}var f=new WeakMap;function d(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}const p=Array.isArray;function h(e){return"string"==typeof e||"number"==typeof e||e instanceof String||e instanceof Number}function y(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(let e=0;e<t.length;++e){const n=t[e];if("string"==typeof n)continue;const r=n.data;void 0!==r&&y(r,n.children,n.sel)}}function v(e,t,n){let r,o,i,a={};if(void 0!==n?(null!==t&&(a=t),p(n)?r=n:h(n)?o=n.toString():n&&n.sel&&(r=[n])):null!=t&&(p(t)?r=t:h(t)?o=t.toString():t&&t.sel?r=[t]:a=t),void 0!==r)for(i=0;i<r.length;++i)h(r[i])&&(r[i]=d(void 0,void 0,void 0,r[i],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||y(a,r,e),d(e,a,r,o,void 0)}const m={type:"audio",renderElem:function(t,n,r){var o=r.isDisabled(),i=e.DomEditor.isNodeSelected(r,t),a=t.src;return v("span",{attrs:{"data-w-e-type":"audio"},style:{display:"inline-block",marginLeft:"3px",marginRight:"3px",border:i&&!o?"2px solid var(--w-e-audio-selected-border-color)":"2px solid transparent",backgroundColor:"#f1f1f1",cursor:o?"pointer":"inherit"}},v("audio",{props:{src:void 0===a?"":a,controls:!0}}))}};function g(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function b(e={},t={}){Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:g(t[n])&&g(e[n])&&Object.keys(t[n]).length>0&&b(e[n],t[n])}))}const w={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function A(){const e="undefined"!=typeof document?document:{};return b(e,w),e}const x={document:w,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function S(){const e="undefined"!=typeof window?window:{};return b(e,x),e}class C extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function E(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...E(e)):t.push(e)})),t}function k(e,t){const n=S(),r=A();let o=[];if(!t&&e instanceof C)return e;if(!e)return new C(o);if("string"==typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=n;for(let e=0;e<t.childNodes.length;e+=1)o.push(t.childNodes[e])}else o=function(e,t){if("string"!=typeof e)return[e];const n=[],r=t.querySelectorAll(e);for(let e=0;e<r.length;e+=1)n.push(r[e]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)o.push(e);else if(Array.isArray(e)){if(e instanceof C)return e;o=e}return new C(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(o))}function L(...e){const t=E(e.map((e=>e.split(" "))));return(n=this,r=e=>t.filter((t=>e.classList.contains(t))).length>0,Array.prototype.filter.call(n,r)).length>0;var n,r}function T(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this}function N(e){if(void 0===e){const e=this[0];if(!e)return;if(e.multiple&&"select"===e.nodeName.toLowerCase()){const t=[];for(let n=0;n<e.selectedOptions.length;n+=1)t.push(e.selectedOptions[n].value);return t}return e.value}for(let t=0;t<this.length;t+=1){const n=this[t];if(Array.isArray(e)&&n.multiple&&"select"===n.nodeName.toLowerCase())for(let t=0;t<n.options.length;t+=1)n.options[t].selected=e.indexOf(n.options[t].value)>=0;else n.value=e}return this}function M(...e){let[t,n,r,o]=e;function i(e){const t=e.target;if(!t)return;const o=e.target.dom7EventData||[];if(o.indexOf(e)<0&&o.unshift(e),k(t).is(n))r.apply(t,o);else{const e=k(t).parents();for(let t=0;t<e.length;t+=1)k(e[t]).is(n)&&r.apply(e[t],o)}}function a(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof e[1]&&([t,r,o]=e,n=void 0),o||(o=!1);const u=t.split(" ");let s;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(s=0;s<u.length;s+=1){const e=u[s];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:i}),t.addEventListener(e,i,o)}else for(s=0;s<u.length;s+=1){const e=u[s];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:a}),t.addEventListener(e,a,o)}}return this}function O(){for(let e=0;e<this.length;e+=1)this[e].style.display="none";return this}function I(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function P(e){const t=S(),n=A(),r=this[0];let o,i;if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(o=k(e),i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}if(e===n)return r===n;if(e===t)return r===t;if(e.nodeType||e instanceof C){for(o=e.nodeType?[e]:e,i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}return!1}function j(...e){let t;const n=A();for(let r=0;r<e.length;r+=1){t=e[r];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const r=n.createElement("div");for(r.innerHTML=t;r.firstChild;)this[e].appendChild(r.firstChild)}else if(t instanceof C)for(let n=0;n<t.length;n+=1)this[e].appendChild(t[n]);else this[e].appendChild(t)}return this}function _(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?k(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return k(t)}function D(e){const t=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)e?k(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return k(t)}function U(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return k(t)}function F(){for(let e=0;e<this.length;e+=1){const t=this[e];if(1===t.nodeType){for(let e=0;e<t.childNodes.length;e+=1)t.childNodes[e].parentNode&&t.childNodes[e].parentNode.removeChild(t.childNodes[e]);t.textContent=""}}return this}k.fn=C.prototype;const H="resize scroll".split(" ");function R(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)H.indexOf(e)<0&&(e in this[t]?this[t][e]():k(this[t]).trigger(e));return this}return this.on(e,...t)}}const B=R("click"),z=(R("blur"),R("focus")),V=(R("focusin"),R("focusout"),R("keyup"),R("keydown"),R("keypress"),R("submit"),R("change"),R("mousedown"),R("mousemove"),R("mouseup"),R("mouseenter"),R("mouseleave"),R("mouseout"),R("mouseover"),R("touchstart"),R("touchend"),R("touchmove"),R("resize"),R("scroll"),k);O&&(V.fn.hide=O),B&&(V.fn.click=B),j&&(V.fn.append=j),M&&(V.fn.on=M),P&&(V.fn.is=P),D&&(V.fn.parents=D),_&&(V.fn.parent=_),z&&(V.fn.focus=z),T&&(V.fn.attr=T),N&&(V.fn.val=N),I&&(V.fn.html=I),L&&(V.fn.hasClass=L),F&&(V.fn.empty=F),U&&(V.fn.find=U);const q=V;globalThis.Node,globalThis.Comment,globalThis.Element,globalThis.Text,globalThis.Range,globalThis.Selection,globalThis.StaticRange;const $={selector:'span[data-w-e-type="audio"]',parseElemHtml:function(e,t,n){return{type:"audio",src:q(e).find("audio").attr("src")||"",children:[{text:""}]}}};var Z='<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" d="M8,2 C8.55228475,2 9,2.44771525 9,3 L9,21 C9,21.5522847 8.55228475,22 8,22 C7.44771525,22 7,21.5522847 7,21 L7,3 C7,2.44771525 7.44771525,2 8,2 Z M20,4 C20.5522847,4 21,4.44771525 21,5 L21,19 C21,19.5522847 20.5522847,20 20,20 C19.4477153,20 19,19.5522847 19,19 L19,5 C19,4.44771525 19.4477153,4 20,4 Z M12,6 C12.5522847,6 13,6.44771525 13,7 L13,17 C13,17.5522847 12.5522847,18 12,18 C11.4477153,18 11,17.5522847 11,17 L11,7 C11,6.44771525 11.4477153,6 12,6 Z M4,9 C4.55228475,9 5,9.44771525 5,10 L5,14 C5,14.5522847 4.55228475,15 4,15 C3.44771525,15 3,14.5522847 3,14 L3,10 C3,9.44771525 3.44771525,9 4,9 Z M16,10 C16.5522847,10 17,10.4477153 17,11 L17,13 C17,13.5522847 16.5522847,14 16,14 C15.4477153,14 15,13.5522847 15,13 L15,11 C15,10.4477153 15.4477153,10 16,10 Z"/>\n</svg>',W='\n<svg width="800px" height="800px" xmlns="http://www.w3.org/2000/svg" fill="#000000">\n <g>\n  <title>Layer 1</title>\n  <path fill-rule="evenodd" d="m11.73823,2.33898c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,17.84746c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-17.84746c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm9.17514,1.98305c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,13.88136c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-13.88136c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm-6.11676,1.98305c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,9.91525c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-9.91525c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm-6.11676,2.97458c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,3.9661c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-3.9661c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm9.17514,0.99153c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,1.98305c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-1.98305c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153z" id="svg_1" stroke="null"/>\n  <path fill="#619E73" d="m1.40554,11.71254l2.28814,-9.89146l2.28814,9.89146l-1.14407,0l0,9.93905l-2.28814,0l0,-9.93905l-1.14407,0z" id="svg_9" stroke="null"/>\n </g>\n\n</svg>';const G=function(){function n(){this.title=(0,e.t)("audio.upload"),this.iconSvg=W,this.tag="button"}return n.prototype.getValue=function(e){return""},n.prototype.isActive=function(e){return!1},n.prototype.exec=function(e,n){var r=this.getMenuConfig(e),o=r.allowedFileTypes,i=void 0===o?[]:o,a=r.customBrowseAndUpload;if(a)a((function(n){return t(e,n)}));else{var u="";i.length>0&&(u='accept="'.concat(i.join(", "),'"'));var s=q("body"),l=q('<input type="file" '.concat(u," multiple/>"));l.hide(),s.append(l),l.click(),l.on("change",(function(){var t=l[0].files;c(e,t)}))}},n.prototype.isDisabled=function(e){return s(e)},n.prototype.getMenuConfig=function(e){return e.getMenuConfig("uploadAudio")},n}();function J(e){return void 0===e&&(e="r"),"".concat(e,"-").concat(((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))())}var K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Q(){return J("w-e-insert-audio")}var X=function(){function n(){this.title=(0,e.t)("audio.insert"),this.iconSvg=Z,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Q(),this.buttonId=Q()}return n.prototype.getValue=function(e){return""},n.prototype.isActive=function(e){return!1},n.prototype.exec=function(e,t){},n.prototype.isDisabled=function(e){return s(e)},n.prototype.getModalPositionNode=function(e){return null},n.prototype.getModalContentElem=function(n){var r=this,o=this.srcInputId,i=this.buttonId,a=K((0,e.genModalInputElems)((0,e.t)("audio.src"),o,(0,e.t)("audio.srcPlaceHolder")),2),u=a[0],s=a[1],c=q(s),l=K((0,e.genModalButtonElems)(i,(0,e.t)("common.ok")),1)[0];if(null==this.$content){var f=q("<div></div>");f.on("click","#".concat(i),(function(e){return i=r,a=void 0,s=function(){var r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){return e.preventDefault(),r=f.find("#".concat(o)).val().trim(),t(n,r),n.hidePanelOrModal(),[2]}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{o(s.next(e))}catch(e){t(e)}}function r(e){try{o(s.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(n,r)}o((s=s.apply(i,a||[])).next())}));var i,a,u,s})),this.$content=f}var d=this.$content;return d.empty(),d.append(u),d.append(l),c.val(""),setTimeout((function(){c.focus()})),d[0]},n}();const Y=X;var ee=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function te(){return J("w-e-insert-audio")}var ne=function(){function t(){this.title=(0,e.t)("audio.edit"),this.iconSvg="",this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=te(),this.buttonId=te()}return t.prototype.getSelectedAudioNode=function(t){return e.DomEditor.getSelectedNodeByType(t,"audio")},t.prototype.getValue=function(e){return""},t.prototype.isActive=function(e){return!1},t.prototype.exec=function(e,t){},t.prototype.isDisabled=function(e){return null==e.selection||null==this.getSelectedAudioNode(e)},t.prototype.getModalPositionNode=function(e){return this.getSelectedAudioNode(e)},t.prototype.getModalContentElem=function(t){var n=this,r=this.srcInputId,o=this.buttonId,i=ee((0,e.genModalInputElems)((0,e.t)("audio.src"),r,(0,e.t)("audio.srcPlaceHolder")),2),a=i[0],u=i[1],s=q(u),c=ee((0,e.genModalButtonElems)(o,(0,e.t)("common.ok")),1)[0];if(null==this.$content){var l=q("<div></div>");l.on("click","#".concat(o),(function(o){return i=n,a=void 0,s=function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){return o.preventDefault(),n=l.find("#".concat(r)).val().trim(),t.restoreSelection(),e.SlateTransforms.setNodes(t,{src:n},{match:function(t){return e.DomEditor.checkNodeType(t,"audio")}}),t.hidePanelOrModal(),[2]}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{o(s.next(e))}catch(e){t(e)}}function r(e){try{o(s.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(n,r)}o((s=s.apply(i,a||[])).next())}));var i,a,u,s})),this.$content=l}var f=this.$content;f.empty(),f.append(a),f.append(c);var d=this.getSelectedAudioNode(t);if(null==d)return f[0];var p=d.src;return s.val(p),setTimeout((function(){s.focus()})),f[0]},t}();const re=ne;function oe(){return{server:"",fieldName:"wangeditor-uploaded-audio",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["audio/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,t){},onFailed:function(e,t){console.error("'".concat(e.name,"'audio upload failed"),t)},onError:function(e,t,n){console.error("'".concat(e.name," audio upload error"),t,n)}}}function ie(){return{checkAudio:function(e){return!0},formatAudioSrc:function(e){return e},onInsertedAudio:function(e){}}}var ae={key:"insertAudio",factory:function(){return new Y},config:{checkAudio:function(e){return!0},formatAudioSrc:function(e){return e},onInsertedAudio:function(e){}}};const ue={editorPlugin:function(t){var n=t.isInline,r=t.isVoid,o=t.insertData,i=t;return i.isInline=function(t){return"audio"===e.DomEditor.getNodeType(t)||n(t)},i.isVoid=function(t){return"audio"===e.DomEditor.getNodeType(t)||r(t)},i.insertData=function(e){if(e.getData("text/plain"))o(e);else{var n=e.files;n.length<=0?o(e):Array.prototype.slice.call(n).some((function(e){return"audio"===function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.type.split("/"),1)[0]}))?c(t,n):o(e)}},i},renderElems:[m],elemsToHtml:[{type:"audio",elemToHtml:function(e,t){var n=e.src;return'<span data-w-e-type="audio" data-w-e-is-void data-w-e-is-inline ><audio controls src="'.concat(void 0===n?"":n,'">audio not support </audio><span>')}}],parseElemsHtml:[$],menus:[{key:"uploadAudio",factory:function(){return new G},config:oe()},ae,{key:"editAudio",factory:function(){return new re}}]};var se=r(379),ce=r.n(se),le=r(755);ce()(le.Z,{insert:"head",singleton:!1}),le.Z.locals;const fe=ue})(),o})()}));
//# sourceMappingURL=index.js.map
{"version":3,"file":"index.js","mappings":"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","sources":["webpack://WangEditorPluginUploadAttachment/webpack/universalModuleDefinition","webpack://WangEditorPluginUploadAttachment/./src/assets/index.less","webpack://WangEditorPluginUploadAttachment/./node_modules/css-loader/dist/runtime/api.js","webpack://WangEditorPluginUploadAttachment/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://WangEditorPluginUploadAttachment/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://WangEditorPluginUploadAttachment/external umd {\"commonjs\":\"@wangeditor/editor\",\"commonjs2\":\"@wangeditor/editor\",\"amd\":\"@wangeditor/editor\",\"root\":\"wangEditor\"}","webpack://WangEditorPluginUploadAttachment/webpack/bootstrap","webpack://WangEditorPluginUploadAttachment/webpack/runtime/compat get default export","webpack://WangEditorPluginUploadAttachment/webpack/runtime/define property getters","webpack://WangEditorPluginUploadAttachment/webpack/runtime/hasOwnProperty shorthand","webpack://WangEditorPluginUploadAttachment/webpack/runtime/make namespace object","webpack://WangEditorPluginUploadAttachment/./src/module/local.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/helper/insert-audio.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/helper/upload-audio.ts","webpack://WangEditorPluginUploadAttachment/./node_modules/snabbdom/build/vnode.js","webpack://WangEditorPluginUploadAttachment/./node_modules/snabbdom/build/is.js","webpack://WangEditorPluginUploadAttachment/./node_modules/snabbdom/build/h.js","webpack://WangEditorPluginUploadAttachment/./src/module/render-elem.ts","webpack://WangEditorPluginUploadAttachment/./node_modules/ssr-window/ssr-window.esm.js","webpack://WangEditorPluginUploadAttachment/./node_modules/dom7/dom7.esm.js","webpack://WangEditorPluginUploadAttachment/./src/utils/dom.ts","webpack://WangEditorPluginUploadAttachment/./src/module/parse-elem-html.ts","webpack://WangEditorPluginUploadAttachment/./src/constants/icon-svg.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/UploadAudio.ts","webpack://WangEditorPluginUploadAttachment/./src/utils/util.ts","webpack://WangEditorPluginUploadAttachment/./node_modules/nanoid/index.browser.js","webpack://WangEditorPluginUploadAttachment/./src/module/menu/InsertAudio.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/EditAudio.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/config.ts","webpack://WangEditorPluginUploadAttachment/./src/module/menu/index.ts","webpack://WangEditorPluginUploadAttachment/./src/module/index.ts","webpack://WangEditorPluginUploadAttachment/./src/module/plugin.ts","webpack://WangEditorPluginUploadAttachment/./src/module/elem-to-html.ts","webpack://WangEditorPluginUploadAttachment/./src/assets/index.less?a2f6","webpack://WangEditorPluginUploadAttachment/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@wangeditor/editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@wangeditor/editor\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WangEditorPluginUploadAttachment\"] = factory(require(\"@wangeditor/editor\"));\n\telse\n\t\troot[\"WangEditorPluginUploadAttachment\"] = factory(root[\"wangEditor\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__857__) {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root,\\n:host {\\n  --w-e-audio-selected-border-color: #2b5ea0;\\n}\\nspan [data-w-e-type=\\\"audio\\\"] audio:p:hover {\\n  border: red solid 2px ;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/assets/index.less\"],\"names\":[],\"mappings\":\"AAEA;;EACE,0CAAA;AAAF;AAIC;EACC,sBAAA;AAFF\",\"sourcesContent\":[\"@import \\\"../var.less\\\";\\n\\n:root, :host {\\n  --w-e-audio-selected-border-color: #2b5ea0; // 选中的元素，如选中了分割线\\n}\\n\\nspan [data-w-e-type=\\\"audio\\\"] audio {\\n &:p:hover{\\n  border: red solid 2px ;\\n }\\n}\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__857__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @description 多语言\n * @author itxve\n */\n\nimport { i18nAddResources } from '@wangeditor/editor'\n\ni18nAddResources('en', {\n  audio: {\n    upload: 'Upload Audio',\n    insert: 'Insert Audio',\n    edit: 'Edit Link',\n    src: 'Audio Link',\n    srcPlaceHolder: 'Plase Input Audio Link',\n  },\n})\n\ni18nAddResources('zh-CN', {\n  audio: {\n    upload: '上传音频',\n    insert: '插入音频',\n    edit: '编辑音频',\n    src: '音频链接',\n    srcPlaceHolder: '请输入音频链接',\n  },\n})\n","/**\n * @description insert video\n * @author wangfupeng\n */\n\nimport { IDomEditor, SlateTransforms } from '@wangeditor/editor'\nimport { AudioElement } from '../../custom-types'\nimport { InsertConfigForAudio } from '../config'\n\nfunction getInsertAudioMenuConfig(editor: IDomEditor) {\n  // 获取配置，见 `./config.js`\n  return editor.getMenuConfig('insertAudio') as InsertConfigForAudio\n}\n\n/**\n * 插入视频\n * @param editor editor\n * @param src video src\n * @param poster video poster\n */\nexport default async function (editor: IDomEditor, src: string) {\n  if (!src) return\n\n  // 还原选区\n  editor.restoreSelection()\n\n  // 校验\n  const { checkAudio, formatAudioSrc, onInsertedAudio } = getInsertAudioMenuConfig(editor)\n  const checkRes = await checkAudio(src)\n  if (typeof checkRes === 'string') {\n    // 校验失败，给出提示\n    editor.alert(checkRes, 'error')\n    return\n  }\n  if (checkRes == null) {\n    // 校验失败，不给提示\n    return\n  }\n\n  // 转换 src\n  let formatedSrc = await formatAudioSrc(src)\n\n  // 新建一个 audio node\n  const audio: AudioElement = {\n    type: 'audio',\n    src: formatedSrc,\n    children: [{ text: '' }], // 【注意】void node 需要一个空 text 作为 children\n  }\n\n  // 插入视频\n  // 不使用此方式会比正常的选区选取先执行\n  Promise.resolve().then(() => {\n    SlateTransforms.insertNodes(editor, audio)\n  })\n\n  if (onInsertedAudio) {\n    onInsertedAudio(audio)\n  }\n}\n","/**\n * @description helper fns\n * @author itxve\n */\n\nimport Uppy, { UppyFile } from '@uppy/core'\nimport { IDomEditor, SlateRange } from '@wangeditor/editor'\nimport { createUploader, DomEditor, SlateEditor } from '@wangeditor/editor'\nimport { IUploadConfigForAudio } from '../config'\nimport insertAudio from '../helper/insert-audio'\n\nfunction getUploadAudioMenuConfig(editor: IDomEditor): IUploadConfigForAudio {\n  // 获取配置，见 `./config.js`\n  return editor.getMenuConfig('uploadAudio') as IUploadConfigForAudio\n}\n\nexport function audioIsDisabled(editor: IDomEditor): boolean {\n  const { selection } = editor\n  if (selection == null) return true\n  if (!SlateRange.isCollapsed(selection)) return true // 选区非折叠，禁用\n  const [match] = SlateEditor.nodes(editor, {\n    match: n => {\n      const type = DomEditor.getNodeType(n)\n      if (type === 'code') return true // 代码块\n      if (type === 'pre') return true // 代码块\n      if (type === 'link') return true // 链接\n      if (type === 'list-item') return true // list\n      if (type.startsWith('header')) return true // 标题\n      if (type === 'blockquote') return true // 引用\n      if (SlateEditor.isVoid(editor, n)) return true // void\n      return false\n    },\n    universal: true,\n  })\n  if (match) {\n    return true\n  }\n  return false\n}\n\n/**\n * 上传附件文件\n * @param editor editor\n * @param files files\n */\nexport async function uploadAudio(editor: IDomEditor, files: FileList | null) {\n  if (files == null) return\n  const fileList = Array.prototype.slice.call(files)\n\n  // 获取菜单配置\n  const { customUpload } = getUploadAudioMenuConfig(editor)\n  debugger\n  // 按顺序上传\n  for await (const file of fileList) {\n    // 上传\n    if (customUpload) {\n      // 自定义上传\n      await customUpload(file, (link: string) => insertAudio(editor, link))\n    } else {\n      // 默认上传\n      await uploadFile(editor, file)\n    }\n  }\n}\n\n/**\n * 上传文件\n * @param editor editor\n * @param file file\n */\nasync function uploadFile(editor: IDomEditor, file: File) {\n  const uppy = getUppy(editor)\n\n  const { name, type, size } = file\n  uppy.addFile({\n    name,\n    type,\n    size,\n    data: file,\n  })\n  await uppy.upload()\n}\n\n// 存储 editor uppy 的关系 - 缓存 uppy ，不重复创建\nconst EDITOR_TO_UPPY_MAP = new WeakMap<IDomEditor, Uppy>()\n\n/**\n * 获取 uppy 实例（并通过 editor 缓存）\n * @param editor editor\n */\nfunction getUppy(editor: IDomEditor): Uppy {\n  // 从缓存中获取\n  let uppy = EDITOR_TO_UPPY_MAP.get(editor)\n  if (uppy != null) return uppy\n\n  const menuConfig = getUploadAudioMenuConfig(editor)\n  const { onSuccess, onProgress, onFailed, customInsert, onError } = menuConfig\n\n  // 上传完成之后\n  const successHandler = (file: UppyFile, res: any) => {\n    // 预期 res 格式：\n    // 成功：{ errno: 0, data: { url } }\n    // 失败：{ errno: !0, message: '失败信息' }\n\n    if (customInsert) {\n      // 用户自定义插入文件，此时 res 格式可能不符合预期\n      customInsert(res, file, (link: string) => insertAudio(editor, link))\n      return\n    }\n\n    const { errno = 1, data = {} } = res\n    if (errno !== 0) {\n      console.error(`'${file.name}' upload failed`, res)\n\n      // failed 回调\n      onFailed(file, res)\n      return\n    }\n\n    const { url = '' } = data\n    insertAudio(editor, url)\n\n    // success 回调\n    onSuccess(file, res)\n  }\n\n  // progress 显示进度条\n  const progressHandler = (progress: number) => {\n    editor.showProgressBar(progress)\n\n    // 回调函数\n    onProgress && onProgress(progress)\n  }\n\n  // onError 提示错误\n  const errorHandler = (file: any, err: any, res: any) => {\n    const fileName = file.name\n    console.error(`'${fileName} upload error`, err, res)\n\n    // 回调函数\n    onError && onError(file, err, res)\n  }\n\n  // 创建 uppy\n  uppy = createUploader({\n    ...menuConfig,\n    onProgress: progressHandler,\n    onSuccess: successHandler,\n    onError: errorHandler,\n  })\n  // 缓存 uppy\n  EDITOR_TO_UPPY_MAP.set(editor, uppy)\n\n  return uppy\n}\n","export function vnode(sel, data, children, text, elm) {\n    const key = data === undefined ? undefined : data.key;\n    return { sel, data, children, text, elm, key };\n}\n//# sourceMappingURL=vnode.js.map","export const array = Array.isArray;\nexport function primitive(s) {\n    return typeof s === \"string\" ||\n        typeof s === \"number\" ||\n        s instanceof String ||\n        s instanceof Number;\n}\n//# sourceMappingURL=is.js.map","import { vnode } from \"./vnode\";\nimport * as is from \"./is\";\nexport function addNS(data, children, sel) {\n    data.ns = \"http://www.w3.org/2000/svg\";\n    if (sel !== \"foreignObject\" && children !== undefined) {\n        for (let i = 0; i < children.length; ++i) {\n            const child = children[i];\n            if (typeof child === \"string\")\n                continue;\n            const childData = child.data;\n            if (childData !== undefined) {\n                addNS(childData, child.children, child.sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    let data = {};\n    let children;\n    let text;\n    let i;\n    if (c !== undefined) {\n        if (b !== null) {\n            data = b;\n        }\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c.toString();\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined && b !== null) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b.toString();\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (children !== undefined) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === \"s\" &&\n        sel[1] === \"v\" &&\n        sel[2] === \"g\" &&\n        (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n/**\n * @experimental\n */\nexport function fragment(children) {\n    let c;\n    let text;\n    if (is.array(children)) {\n        c = children;\n    }\n    else if (is.primitive(c)) {\n        text = children;\n    }\n    else if (c && c.sel) {\n        c = [children];\n    }\n    if (c !== undefined) {\n        for (let i = 0; i < c.length; ++i) {\n            if (is.primitive(c[i]))\n                c[i] = vnode(undefined, undefined, undefined, c[i], undefined);\n        }\n    }\n    return vnode(undefined, {}, c, text, undefined);\n}\n//# sourceMappingURL=h.js.map","/**\n * @description render elem\n * @author itxve\n */\n\nimport { h, VNode } from 'snabbdom'\nimport { DomEditor, IDomEditor, SlateElement } from '@wangeditor/editor'\nimport { AudioElement } from './custom-types'\n\nfunction renderAudio(elem: SlateElement, children: VNode[] | null, editor: IDomEditor): VNode {\n  const isDisabled = editor.isDisabled()\n\n  // 当前节点是否选中\n  const selected = DomEditor.isNodeSelected(editor, elem)\n\n  // 构建 vnode\n  const { src = '' } = elem as AudioElement\n\n  const vnode = h(\n    'span',\n    {\n      attrs: {\n        'data-w-e-type': 'audio',\n      },\n      style: {\n        display: 'inline-block', // inline\n        marginLeft: '3px',\n        marginRight: '3px',\n        border:\n          selected && !isDisabled\n            ? '2px solid var(--w-e-audio-selected-border-color)' // wangEditor 提供了 css var https://www.wangeditor.com/v5/theme.html\n            : '2px solid transparent',\n\n        backgroundColor: '#f1f1f1',\n        cursor: isDisabled ? 'pointer' : 'inherit',\n      },\n    },\n    h('audio', {\n      props: {\n        src: src,\n        controls: true,\n      },\n    })\n  )\n\n  return vnode\n}\n\nconst conf = {\n  type: 'audio', // 节点 type ，重要！！！\n  renderElem: renderAudio,\n}\n\nexport default conf\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","/**\n * @description DOM 操作\n * @author itxve\n */\n\nimport $, {\n  parents,\n  parent,\n  is,\n  append,\n  on,\n  hide,\n  click,\n  empty,\n  val,\n  focus,\n  html,\n  hasClass,\n  attr,\n  find,\n} from 'dom7'\n\nif (hide) $.fn.hide = hide\nif (click) $.fn.click = click\nif (append) $.fn.append = append\nif (on) $.fn.on = on\nif (is) $.fn.is = is\nif (parents) $.fn.parents = parents\nif (parent) $.fn.parent = parent\nif (focus) $.fn.focus = focus\nif (attr) $.fn.attr = attr\nif (val) $.fn.val = val\nif (html) $.fn.html = html\nif (hasClass) $.fn.hasClass = hasClass\nif (empty) $.fn.empty = empty\nif (find) $.fn.find = find\n\nexport { Dom7Array } from 'dom7'\nexport default $\n\n// COMPAT: This is required to prevent TypeScript aliases from doing some very\n// weird things for Slate's types with the same name as globals. (2019/11/27)\n// https://github.com/microsoft/TypeScript/issues/35002\nimport DOMNode = globalThis.Node\nimport DOMComment = globalThis.Comment\nimport DOMElement = globalThis.Element\nimport DOMText = globalThis.Text\nimport DOMRange = globalThis.Range\nimport DOMSelection = globalThis.Selection\nimport DOMStaticRange = globalThis.StaticRange\nexport { DOMNode, DOMComment, DOMElement, DOMText, DOMRange, DOMSelection, DOMStaticRange }\n","/**\n * @description parse elem html\n * @author itxve\n */\n\nimport $, { DOMElement } from '../utils/dom'\nimport { IDomEditor, SlateDescendant, SlateElement } from '@wangeditor/editor'\nimport { AudioElement } from './custom-types'\n// 将html转换为VNode\nfunction parseHtml(\n  elem: DOMElement,\n  children: SlateDescendant[],\n  editor: IDomEditor\n): SlateElement {\n  const $elem = $(elem)\n\n  // <audio> 形式\n  const $audio = $elem.find('audio')\n  let src = $audio.attr('src') || ''\n\n  return {\n    type: 'audio',\n    src,\n    children: [{ text: '' }], // void node 必须有一个空白 text\n  } as AudioElement\n}\n\nconst parseHtmlConf = {\n  selector: 'span[data-w-e-type=\"audio\"]',\n  parseElemHtml: parseHtml,\n}\n\nexport default parseHtmlConf\n","/**\n * @description menu config\n * @author itxve\n */\n\nexport const AUDIO_SVG = `<svg fill=\"#000000\" width=\"800px\" height=\"800px\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" d=\"M8,2 C8.55228475,2 9,2.44771525 9,3 L9,21 C9,21.5522847 8.55228475,22 8,22 C7.44771525,22 7,21.5522847 7,21 L7,3 C7,2.44771525 7.44771525,2 8,2 Z M20,4 C20.5522847,4 21,4.44771525 21,5 L21,19 C21,19.5522847 20.5522847,20 20,20 C19.4477153,20 19,19.5522847 19,19 L19,5 C19,4.44771525 19.4477153,4 20,4 Z M12,6 C12.5522847,6 13,6.44771525 13,7 L13,17 C13,17.5522847 12.5522847,18 12,18 C11.4477153,18 11,17.5522847 11,17 L11,7 C11,6.44771525 11.4477153,6 12,6 Z M4,9 C4.55228475,9 5,9.44771525 5,10 L5,14 C5,14.5522847 4.55228475,15 4,15 C3.44771525,15 3,14.5522847 3,14 L3,10 C3,9.44771525 3.44771525,9 4,9 Z M16,10 C16.5522847,10 17,10.4477153 17,11 L17,13 C17,13.5522847 16.5522847,14 16,14 C15.4477153,14 15,13.5522847 15,13 L15,11 C15,10.4477153 15.4477153,10 16,10 Z\"/>\n</svg>`\n\nexport const UPLOAD_AUDIO_SVG = `\n<svg width=\"800px\" height=\"800px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\">\n <g>\n  <title>Layer 1</title>\n  <path fill-rule=\"evenodd\" d=\"m11.73823,2.33898c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,17.84746c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-17.84746c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm9.17514,1.98305c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,13.88136c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-13.88136c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm-6.11676,1.98305c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,9.91525c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-9.91525c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm-6.11676,2.97458c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,3.9661c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-3.9661c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153zm9.17514,0.99153c0.42227,0 0.7646,0.44393 0.7646,0.99153l0,1.98305c0,0.5476 -0.34232,0.99153 -0.7646,0.99153c-0.42227,0 -0.7646,-0.44393 -0.7646,-0.99153l0,-1.98305c0,-0.5476 0.34232,-0.99153 0.7646,-0.99153z\" id=\"svg_1\" stroke=\"null\"/>\n  <path fill=\"#619E73\" d=\"m1.40554,11.71254l2.28814,-9.89146l2.28814,9.89146l-1.14407,0l0,9.93905l-2.28814,0l0,-9.93905l-1.14407,0z\" id=\"svg_9\" stroke=\"null\"/>\n </g>\n\n</svg>`\n","/**\n * @description upload attachment menu\n * @author itxve\n */\n\nimport { DomEditor, IDomEditor, SlateRange, t } from '@wangeditor/editor'\nimport { IButtonMenu } from '@wangeditor/editor'\nimport { UPLOAD_AUDIO_SVG } from '../../constants/icon-svg'\nimport { IUploadConfigForAudio } from './config'\nimport $ from '../../utils/dom'\nimport { audioIsDisabled, uploadAudio } from './helper/upload-audio'\nimport insertAudio from './helper/insert-audio'\n\nclass UploadAudioMenu implements IButtonMenu {\n  readonly title = t('audio.upload')\n  readonly iconSvg = UPLOAD_AUDIO_SVG\n  readonly tag = 'button'\n\n  getValue(editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 任何时候，都不用激活 menu\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    const { allowedFileTypes = [], customBrowseAndUpload } = this.getMenuConfig(editor)\n\n    // 自定义选择文件、并上传，如图床\n    if (customBrowseAndUpload) {\n      customBrowseAndUpload((link: string) => insertAudio(editor, link))\n      return\n    }\n\n    // 设置选择文件的类型\n    let acceptAttr = ''\n    if (allowedFileTypes.length > 0) {\n      acceptAttr = `accept=\"${allowedFileTypes.join(', ')}\"`\n    }\n\n    // 添加 file input（每次重新创建 input）\n    const $body = $('body')\n    const $inputFile = $(`<input type=\"file\" ${acceptAttr} multiple/>`)\n    $inputFile.hide()\n    $body.append($inputFile)\n    $inputFile.click()\n    // 选中文件\n    $inputFile.on('change', () => {\n      const files = ($inputFile[0] as HTMLInputElement).files\n      uploadAudio(editor, files) // 上传文件\n    })\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    return audioIsDisabled(editor)\n  }\n\n  private getMenuConfig(editor: IDomEditor): IUploadConfigForAudio {\n    // 获取配置，见 `./config.js`\n    return editor.getMenuConfig('uploadAudio') as IUploadConfigForAudio\n  }\n}\n\nexport default UploadAudioMenu\n","import { nanoid } from 'nanoid'\n\n/**\n * 获取随机数字符串\n * @param prefix 前缀\n * @returns 随机数字符串\n */\nexport function genRandomStr(prefix: string = 'r'): string {\n  return `${prefix}-${nanoid()}`\n}\n\nexport function replaceSymbols(str: string) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { DomEditor, IDomEditor, SlateRange, SlateEditor, t, SlateNode } from '@wangeditor/editor'\nimport { IModalMenu, genModalInputElems, genModalButtonElems } from '@wangeditor/editor'\nimport { AUDIO_SVG } from '../../constants/icon-svg'\nimport $, { Dom7Array, DOMElement } from '../../utils/dom'\nimport { genRandomStr } from '../../utils/util'\nimport insertAudio from './helper/insert-audio'\nimport { audioIsDisabled } from './helper/upload-audio'\n/**\n * 生成唯一的 DOM ID\n */\nfunction genDomID(): string {\n  return genRandomStr('w-e-insert-audio')\n}\n\nclass InsertAudioMenu implements IModalMenu {\n  hotkey?: string | undefined\n  alwaysEnable?: boolean | undefined\n  width?: number | undefined\n  readonly title = t('audio.insert')\n  readonly iconSvg = AUDIO_SVG\n  readonly tag = 'button'\n  readonly showModal = true // 点击 button 时显示 modal\n  readonly modalWidth = 300\n  private $content: Dom7Array | null = null\n  private readonly srcInputId = genDomID()\n  private readonly buttonId = genDomID()\n\n  getValue(editor: IDomEditor): string | boolean {\n    // 插入菜单，不需要 value\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 任何时候，都不用激活 menu\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    // 点击菜单时，弹出 modal 之前，不需要执行其他代码\n    // 此处空着即可\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    return audioIsDisabled(editor)\n  }\n\n  getModalPositionNode(editor: IDomEditor): SlateNode | null {\n    return null // modal 依据选区定位\n  }\n\n  getModalContentElem(editor: IDomEditor): DOMElement {\n    const { srcInputId, buttonId } = this\n\n    // 获取 input button elem\n    const [srcContainerElem, inputSrcElem] = genModalInputElems(\n      t('audio.src'),\n      srcInputId,\n      t('audio.srcPlaceHolder')\n    )\n\n    const $inputSrc = $(inputSrcElem)\n    const [buttonContainerElem] = genModalButtonElems(buttonId, t('common.ok'))\n\n    if (this.$content == null) {\n      // 第一次渲染\n      const $content = $('<div></div>')\n\n      // 绑定事件（第一次渲染时绑定，不要重复绑定）\n      $content.on('click', `#${buttonId}`, async e => {\n        e.preventDefault()\n        const src = $content.find(`#${srcInputId}`).val().trim()\n        insertAudio(editor, src)\n        editor.hidePanelOrModal() // 隐藏 modal\n      })\n\n      // 记录属性，重要\n      this.$content = $content\n    }\n\n    const $content = this.$content\n    $content.empty() // 先清空内容\n\n    // append inputs and button\n    $content.append(srcContainerElem)\n    $content.append(buttonContainerElem)\n\n    // 设置 input val\n    $inputSrc.val('')\n\n    // focus 一个 input（异步，此时 DOM 尚未渲染）\n    setTimeout(() => {\n      $inputSrc.focus()\n    })\n\n    return $content[0]\n  }\n}\n\nexport default InsertAudioMenu\n","import {\n  DomEditor,\n  IDomEditor,\n  SlateTransforms,\n  SlateRange,\n  SlateEditor,\n  t,\n  SlateNode,\n} from '@wangeditor/editor'\nimport { IModalMenu, genModalInputElems, genModalButtonElems } from '@wangeditor/editor'\nimport $, { Dom7Array, DOMElement } from '../../utils/dom'\nimport { genRandomStr } from '../../utils/util'\nimport { AudioElement } from '../custom-types'\n/**\n * 生成唯一的 DOM ID\n */\nfunction genDomID(): string {\n  return genRandomStr('w-e-insert-audio')\n}\n\nclass EditAudioMenu implements IModalMenu {\n  hotkey?: string | undefined\n  alwaysEnable?: boolean | undefined\n  width?: number | undefined\n  readonly title = t('audio.edit')\n  readonly iconSvg = ''\n  readonly tag = 'button'\n  readonly showModal = true // 点击 button 时显示 modal\n  readonly modalWidth = 300\n  private $content: Dom7Array | null = null\n  private readonly srcInputId = genDomID()\n  private readonly buttonId = genDomID()\n\n  private getSelectedAudioNode(editor: IDomEditor): SlateNode | null {\n    return DomEditor.getSelectedNodeByType(editor, 'audio')\n  }\n\n  getValue(editor: IDomEditor): string | boolean {\n    // 插入菜单，不需要 value\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 任何时候，都不用激活 menu\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    // 点击菜单时，弹出 modal 之前，不需要执行其他代码\n    // 此处空着即可\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    if (editor.selection == null) return true\n\n    const videoNode = this.getSelectedAudioNode(editor)\n    if (videoNode == null) {\n      // 选区未处于 video node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  getModalPositionNode(editor: IDomEditor): SlateNode | null {\n    return this.getSelectedAudioNode(editor) // modal 依据选区定位\n  }\n\n  getModalContentElem(editor: IDomEditor): DOMElement {\n    const { srcInputId, buttonId } = this\n\n    // 获取 input button elem\n    const [srcContainerElem, inputSrcElem] = genModalInputElems(\n      t('audio.src'),\n      srcInputId,\n      t('audio.srcPlaceHolder')\n    )\n\n    const $inputSrc = $(inputSrcElem)\n    const [buttonContainerElem] = genModalButtonElems(buttonId, t('common.ok'))\n\n    if (this.$content == null) {\n      // 第一次渲染\n      const $content = $('<div></div>')\n\n      // 绑定事件（第一次渲染时绑定，不要重复绑定）\n      $content.on('click', `#${buttonId}`, async e => {\n        e.preventDefault()\n\n        const srcValue: string = $content.find(`#${srcInputId}`).val().trim()\n\n        editor.restoreSelection()\n\n        // 修改尺寸\n        SlateTransforms.setNodes(editor, { src: srcValue } as Partial<{}>, {\n          match: n => DomEditor.checkNodeType(n, 'audio'),\n        })\n\n        editor.hidePanelOrModal() // 隐藏 modal\n      })\n\n      // 记录属性，重要\n      this.$content = $content\n    }\n\n    const $content = this.$content\n    $content.empty() // 先清空内容\n\n    // append inputs and button\n    $content.append(srcContainerElem)\n    $content.append(buttonContainerElem)\n\n    const audioNode = this.getSelectedAudioNode(editor) as AudioElement\n    if (audioNode == null) return $content[0]\n\n    // 初始化 input 值\n    const { src } = audioNode\n    $inputSrc.val(src)\n    // focus 一个 input（异步，此时 DOM 尚未渲染）\n    setTimeout(() => {\n      $inputSrc.focus()\n    })\n\n    return $content[0]\n  }\n}\n\nexport default EditAudioMenu\n","/**\n * @description menu config\n * @author itxve\n */\n\nimport { IUploadConfig } from '@wangeditor/editor'\nimport { UppyFile } from '@uppy/core'\nimport { AudioElement } from '../custom-types'\n\nexport type InsertAudioFn = (link: string) => void\n\n// 在通用 uploadConfig 上，扩展 audio 相关配置\nexport type IUploadConfigForAudio = IUploadConfig & {\n  allowedFileTypes?: string[]\n  // 用户自定义插入音频\n  customInsert?: (res: any, file: UppyFile, insertFn: InsertAudioFn) => void\n  // 用户自定义上传音频\n  customUpload?: (files: File, insertFn: InsertAudioFn) => void\n  // 自定义选择音频，如图床\n  customBrowseAndUpload?: (insertFn: InsertAudioFn) => void\n}\n\n// 在通用 uploadConfig 上，扩展 audio 相关配置\nexport type InsertConfigForAudio = {\n  /**\n   * 检查Audio信息，支持 async fn\n   * @param src audio src\n   */\n  checkAudio(src: string): boolean | string | undefined\n\n  /**\n   * format audio src\n   * @param src audio src\n   * @returns new src\n   */\n  formatAudioSrc(src: string): string\n\n  /**\n   * 插入之后\n   * inserted\n   */\n  onInsertedAudio(audioNode: AudioElement): void\n}\n\nexport function genUploadAudioMenuConfig(): IUploadConfigForAudio {\n  return {\n    server: '', // server API 地址，需用户配置\n\n    fieldName: 'wangeditor-uploaded-audio', // formData 中，文件的 key\n    maxFileSize: 10 * 1024 * 1024, // 10M\n    maxNumberOfFiles: 5, // 最多上传 xx 个附件\n    allowedFileTypes: ['audio/*'],\n    meta: {\n      // 自定义上传参数，例如传递验证的 token 等。参数会被添加到 formData 中，一起上传到服务端。\n      // 例如：token: 'xxxxx', x: 100\n    },\n    metaWithUrl: false,\n    // headers: {\n    //   // 自定义 http headers\n    //   // 例如：Accept: 'text/x-json', a: 100,\n    // },\n    withCredentials: false,\n    timeout: 30 * 1000, // 30s\n\n    onBeforeUpload: (files: any) => files, // 返回 false 则终止上传\n    onProgress: (progress: number) => {\n      /* on progress */\n    },\n    onSuccess: (file: any, res: any) => {\n      /* on success */\n    },\n    onFailed: (file: any, res: any) => {\n      /* on failed */\n      console.error(`'${file.name}'audio upload failed`, res)\n    },\n    onError: (file: any, err: any, res: any) => {\n      /* on error */\n      /* on timeout */\n      console.error(`'${file.name} audio upload error`, err, res)\n    },\n    // // 用户自定义插入音频\n    // customInsert: (res: any, file: UppyFile, insertFn: InsertAudioFn) => {},\n    // // 用户自定义上传音频\n    // customUpload: (files: File, insertFn: InsertAudioFn) => {},\n    // // 自定义选择音频，如图床\n    // customBrowseAndUpload: (insertFn: InsertAudioFn) => {},\n    // // 插入之后的回调\n    // onInsertedAudio: (elem: AudioElement) => {},\n  }\n}\n\nexport function genInsertAudioMenuConfig() {\n  return {\n    /**\n     * 检查Audio信息，支持 async fn\n     * @param src audio src\n     */\n    checkAudio(src: string): boolean | string | undefined {\n      // 1. 返回 true ，说明检查通过\n      // 2. 返回一个字符串，说明检查未通过，编辑器会阻止图片插入。会 alert 出错误信息（即返回的字符串）\n      // 3. 返回 undefined（即没有任何返回），说明检查未通过，编辑器会阻止图片插入\n      return true\n    },\n\n    /**\n     * format audio src\n     * @param src audio src\n     * @returns new src\n     */\n    formatAudioSrc(src: string): string {\n      return src\n    },\n\n    onInsertedAudio(audioNode: AudioElement): void {},\n  } as InsertConfigForAudio\n}\n","/**\n * @description menu entry\n * @author itxve\n */\n\nimport UploadAudio from './UploadAudio'\nimport InsertAudio from './InsertAudio'\nimport EditAudio from './EditAudio'\n\nimport { genUploadAudioMenuConfig, genInsertAudioMenuConfig } from './config'\n\nexport const uploadAudioMenuConf = {\n  key: 'uploadAudio', // menu key ，唯一。注册之后，可配置到工具栏\n  factory() {\n    return new UploadAudio()\n  },\n\n  // 默认的菜单菜单配置，将存储在 editorConfig.MENU_CONF[key] 中\n  // 创建编辑器时，可通过 editorConfig.MENU_CONF[key] = {...} 来修改\n  config: genUploadAudioMenuConfig(),\n}\n\nexport const insertAudioMenuConf = {\n  key: 'insertAudio',\n  factory() {\n    return new InsertAudio()\n  },\n\n  config: genInsertAudioMenuConfig(),\n  // 默认的菜单菜单配置，将存储在 editorConfig.MENU_CONF[key] 中\n  // 创建编辑器时，可通过 editorConfig.MENU_CONF[key] = {...} 来修改\n}\n\nexport const editAudioMenuConf = {\n  key: 'editAudio',\n  factory() {\n    return new EditAudio()\n  },\n\n  // 默认的菜单菜单配置，将存储在 editorConfig.MENU_CONF[key] 中\n  // 创建编辑器时，可通过 editorConfig.MENU_CONF[key] = {...} 来修改\n}\n","/**\n * @description attachment module entry\n * @author itxve\n */\n\nimport './local' // 多语言\n\nimport { IModuleConf } from '@wangeditor/editor'\nimport withAudio from './plugin'\nimport renderElemConf from './render-elem'\nimport elemToHtmlConf from './elem-to-html'\nimport parseHtmlConf from './parse-elem-html'\nimport { uploadAudioMenuConf, insertAudioMenuConf, editAudioMenuConf } from './menu/index'\n\nconst module: Partial<IModuleConf> = {\n  editorPlugin: withAudio,\n  renderElems: [renderElemConf],\n  // renderStyle\n  elemsToHtml: [elemToHtmlConf],\n  parseElemsHtml: [parseHtmlConf],\n\n  menus: [uploadAudioMenuConf, insertAudioMenuConf, editAudioMenuConf],\n}\n\nexport default module\n","/**\n * @description attachment plugin\n * @author itxve\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor/editor'\nimport { uploadAudio } from './menu/helper/upload-audio'\n\nfunction withAudio<T extends IDomEditor>(editor: T) {\n  const { isInline, isVoid, insertData } = editor\n  const newEditor = editor\n\n  // 重写 isInline\n  newEditor.isInline = elem => {\n    const type = DomEditor.getNodeType(elem)\n    if (type === 'audio') {\n      return true\n    }\n\n    return isInline(elem)\n  }\n\n  // 重写 isVoid\n  newEditor.isVoid = elem => {\n    const type = DomEditor.getNodeType(elem)\n    if (type === 'audio') {\n      return true\n    }\n\n    return isVoid(elem)\n  }\n\n  // 重写 insertData\n  newEditor.insertData = (data: DataTransfer) => {\n    // 如有 text ，则优先粘贴 text\n    const text = data.getData('text/plain')\n    if (text) {\n      insertData(data)\n      return\n    }\n\n    // 获取文件\n    const { files } = data\n    if (files.length <= 0) {\n      insertData(data)\n      return\n    }\n\n    // 判断是否有图片文件（可能是其他类型的文件）\n    const fileList = Array.prototype.slice.call(files)\n    let _hasAudioFiles = fileList.some(file => {\n      const [mime] = file.type.split('/')\n      return mime === 'audio'\n    })\n\n    if (_hasAudioFiles) {\n      // 有音频文件，则上传音频\n      uploadAudio(editor, files)\n    } else {\n      // 如果没有， 则继续 insertData\n      insertData(data)\n    }\n  }\n\n  return newEditor\n}\n\nexport default withAudio\n","/**\n * @description elem to html\n * @author itxve\n */\n\nimport { SlateElement } from '@wangeditor/editor'\nimport { AudioElement } from './custom-types'\n\n// 生成 html 的函数\nfunction audioToHtml(elem: SlateElement, childrenHtml: string): string {\n  const { src = '' } = elem as AudioElement\n\n  return `<span data-w-e-type=\"audio\" data-w-e-is-void data-w-e-is-inline ><audio controls src=\"${src}\">audio not support </audio><span>`\n}\n\n// 配置\nconst conf = {\n  type: 'audio', // 节点 type ，重要！！！\n  elemToHtml: audioToHtml,\n}\n\nexport default conf\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./index.less\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @description src entry\n * @author itxve\n */\n\nimport module from './module/index'\n\nimport './assets/index.less'\n\nexport * from './constants/icon-svg'\n\nexport * from './module/custom-types'\n\nexport * from './module/menu/config'\n\nexport default module\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__857__","___CSS_LOADER_EXPORT___","push","id","cssWithMappingToString","list","toString","this","map","item","content","concat","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","err","_iterableToArrayLimit","o","minLen","n","Object","prototype","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","memo","getTarget","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","key","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","Boolean","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","bind","parentNode","removeStyleElement","newObj","all","atob","lastIdentifiers","newList","newLastIdentifiers","_index","splice","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","a","definition","defineProperty","enumerable","get","prop","hasOwnProperty","r","toStringTag","i18nAddResources","audio","upload","edit","src","srcPlaceHolder","editor","restoreSelection","getMenuConfig","getInsertAudioMenuConfig","checkAudio","formatAudioSrc","onInsertedAudio","checkRes","alert","formatedSrc","type","children","text","Promise","resolve","then","SlateTransforms","getUploadAudioMenuConfig","audioIsDisabled","selection","SlateRange","SlateEditor","match","DomEditor","startsWith","universal","uploadAudio","files","fileList","customUpload","file","link","uploadFile","uppy","EDITOR_TO_UPPY_MAP","menuConfig","onSuccess","onProgress","onFailed","customInsert","onError","createUploader","progress","showProgressBar","res","errno","console","error","fileName","set","getUppy","size","addFile","WeakMap","sel","elm","array","primitive","s","String","Number","addNS","ns","child","childData","h","b","c","renderElem","elem","isDisabled","selected","attrs","display","marginLeft","marginRight","border","backgroundColor","cursor","props","controls","isObject","extend","ssrDocument","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelectorAll","getElementById","createEvent","initEvent","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","doc","ssrWindow","navigator","userAgent","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","win","Dom7","items","super","proto","__proto__","makeReactive","arrayFlat","el","$","selector","context","html","trim","indexOf","toCreate","tempParent","innerHTML","qsa","nodeType","uniqueArray","arrayUnique","hasClass","classes","classNames","split","className","classList","contains","attr","arguments","getAttribute","attrName","val","multiple","toLowerCase","values","selectedOptions","j","on","args","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","apply","parents","k","handleEvent","events","event","dom7LiveListeners","proxyListener","dom7Listeners","hide","compareWith","matches","webkitMatchesSelector","msMatchesSelector","append","els","newChild","tempDiv","parent","find","foundElements","found","empty","textContent","fn","noTrigger","shortcut","trigger","click","globalThis","Node","Comment","Element","Text","Range","Selection","StaticRange","parseElemHtml","AUDIO_SVG","UPLOAD_AUDIO_SVG","title","t","iconSvg","tag","getValue","isActive","exec","allowedFileTypes","customBrowseAndUpload","acceptAttr","$body","$inputFile","genRandomStr","prefix","crypto","getRandomValues","Uint8Array","reduce","byte","toUpperCase","nanoid","genDomID","showModal","modalWidth","$content","srcInputId","buttonId","getModalPositionNode","getModalContentElem","genModalInputElems","srcContainerElem","inputSrcElem","$inputSrc","buttonContainerElem","genModalButtonElems","preventDefault","hidePanelOrModal","focus","getSelectedAudioNode","srcValue","audioNode","genUploadAudioMenuConfig","server","fieldName","maxFileSize","maxNumberOfFiles","meta","metaWithUrl","withCredentials","timeout","onBeforeUpload","genInsertAudioMenuConfig","insertAudioMenuConf","InsertAudio","config","editorPlugin","isInline","isVoid","insertData","newEditor","getData","some","renderElems","elemsToHtml","elemToHtml","childrenHtml","parseElemsHtml","menus","UploadAudio","EditAudio"],"sourceRoot":""}